# Global defaults
defaults:
  TGTRLS: CURRENT
  DBGVIEW: ALL
  OPTION: EVENTF
  REPLACE: YES
  TGTCCSID: JOB

before:
  CrtBndDir:
    BNDDIR: SAMPLE

after: 
  DltObj: 
    OBJ: SAMPLE
    OBJTYPE: BndDir

failure: 
  DltObj: 
    OBJ: SAMPLE
    OBJTYPE: BndDir

targets:
  # Simple rpgle compilation
  curlib.ADDnum.pgm.rpgle:
    params:
      SRCSTMF: QRPGLESRC/ADDNUM.RPGLE
  
  # Files used by reference
  curlib.SAMREF.PF.dds:
    params:
      SRCSTMF: common/SAMREF.PF.dds

  curlib.vatdef.pf.dds:
    params:
      SRCSTMF: functionsVAT/vatdef.pf.dds

  # ART200 compilation context
  curlib.ARTICLE.pf.dds: # PF of ART200
    params:
      SRCSTMF: QDDSSRC/ARTICLE.pf.dds

  curlib.ARTICLE1.lf.dds: # LF of ARTICLE
    params:
      SRCSTMF: QDDSSRC/ARTICLE1.lf.dds

  curlib.ARTICLE2.lf.dds: # LF of ARTICLE
    params:
      SRCSTMF: QDDSSRC/ARTICLE2.lf.dds

  curlib.ART200D.dspf.dds: # DSPF of ART200
    params:
      SRCSTMF: QDDSSRC/ART200D.dspf.dds

  curlib.FAMILLY.PF.dds: # PF of module FAM300
    params:
      SRCSTMF: QDDSSRC/FAMILLY.PF.dds
  
  curlib.FAMILL1.LF.dds: # LF of PF FAMILLY
    params:
      SRCSTMF: QDDSSRC/FAMILL1.LF.dds

  curlib.FAM300.module.RPGLE: # Module of FFAMILLY SrvPgm
    params:
      SRCSTMF: QRPGLESRC/FAM300.module.RPGLE

  curlib.FAM301D.DSPF.dds: # DSPF of module FAM301
    params:
      SRCSTMF: QDDSSRC/FAM301D.DSPF.dds

  curlib.FAM301.module.RPGLE: # Module of FFAMILLY SrvPgm
    params:
      SRCSTMF: QRPGLESRC/FAM301.module.RPGLE

  curlib.FFAMILLY.srvpgm.BND: # SrvPgm of ART200
    params:
      SRCSTMF: QSRVSRC/FFAMILLY.srvpgm.BND
      MODULE:
        - FAM300
        - FAM301

  curlib.ART200.pgm.sqlrpgle: # Pgm
    before:
      AddBndDirE:   # Add srvpgm required by ART200
        BndDir: SAMPLE
        Obj: FFAMILLY

    params:
      SRCSTMF: QRPGLESRC/ART200.pgm.sqlrpgle